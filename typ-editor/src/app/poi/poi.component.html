<div class="container"
     fxLayout
     fxLayout.xs="column"
     fxLayoutAlign="center"
     fxLayoutGap="0px"
     fxLayoutGap.xs="0"
>
    <div class="item item-5" fxFlex="30%"  fxFlexOffset.xs="0">
        <div *ngIf="delete; then thenBlock2 else elseBlock2"></div>
            <ng-template #thenBlock2>
                <button mat-stroked-button color="primary" (click)="switchToDelete()">
                    <mat-icon>not_interested</mat-icon>
                    Cancel
                </button>

                <button mat-stroked-button color="warn" class="remove-btn" (click)="deleteIcons()">
                    <mat-icon>delete_forever</mat-icon>
                    Remove {{selectedItems.length}} items
                </button>
            </ng-template>
            <ng-template #elseBlock2>
                <button mat-stroked-button color="primary" (click)="switchToDelete()">
                    <mat-icon>delete_forever</mat-icon>
                    Remove POIs
                </button>
            </ng-template>
    </div>

    <div class="item item-4" fxFlex="70%"  fxFlexOffset.xs="0">
        <mat-slider
            thumbLabel
            (change)="updateGrid()"
            [displayWith]="formatLabel"
            tickInterval="1000"
            step="1"
            min="10"
            max="70"
            [(ngModel)]="scaleValue"
            color="primary"
            aria-label="units">
        </mat-slider>
    </div>
</div>

<div *ngIf="delete; then thenBlock else elseBlock"></div>
    <ng-template #thenBlock>
        <mat-grid-list cols={{gridCols}} rowHeight="1:1"  [gutterSize]="'10px'">
            <mat-grid-tile *ngFor="let poi of poiList" (click)="select(poi)" [ngClass]="{'highlight-tile': highlightTile(poi)}">
                <div *ngIf="delete">
                    <mat-grid-tile-header class="delete-icon">
                        <mat-icon>delete_forever</mat-icon>
                    </mat-grid-tile-header>
                </div>
                <app-bitmap-canvas [drawableItem]="poi" [scaleValue]="bitmapScale" [darken]= "highlightTile(poi)"></app-bitmap-canvas>
                <mat-grid-tile-footer>{{poi.text.textArr[0].value | uppercase}}</mat-grid-tile-footer>
            </mat-grid-tile>
        </mat-grid-list>
    </ng-template>
    <ng-template #elseBlock>
        <mat-grid-list cols={{gridCols}} rowHeight="1:1" [gutterSize]="'10px'">
            <mat-grid-tile *ngFor="let poi of poiList" (click)="openEditor(poi)">
                <app-bitmap-canvas [drawableItem]="poi" [scaleValue]="bitmapScale" [darken]="false"></app-bitmap-canvas>
                <mat-grid-tile-footer>{{poi.text.textArr[0].value | uppercase}}</mat-grid-tile-footer>
            </mat-grid-tile>
        </mat-grid-list>
    </ng-template>

<button mat-fab color="primary"  class="fab-main" [matMenuTriggerFor]="menu">
    <mat-icon>add</mat-icon>
</button>

<mat-menu #menu="matMenu">
    <button mat-menu-item (click)="addPOI()">
        <mat-icon>add</mat-icon>
        New POI
    </button>
    <button mat-menu-item (click)="fileUpload.click()">
        <mat-icon>merge</mat-icon>
        Merge From File
    </button>
</mat-menu>

<input type="file" class="file-input" (change)="handleFileInput($event)" #fileUpload>
